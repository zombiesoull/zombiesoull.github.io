<!-- build time:Sun Feb 26 2023 20:56:12 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) --><!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="weblogic,server,war,jaråŒ…å†²çª,"><meta name="description" content="å‰è¨€:æœ€è¿‘é¡¹ç›®ç»„è¿æ¥äº†ä¸€ä¸ªä¸å¤§ä¸å°çš„æ´»,ç»™åŸºäºJDK1.6å¼€å‘çš„è€å·¥ç¨‹åšç¡¬ä»¶å‡çº§,å‡çº§å†…å®¹:å‡çº§èƒŒæ™¯:- å½“å‰ç³»ç»Ÿåº”ç”¨ä¸æ•°æ®åº“å‡ä¸ºIBM-P750,IBM-P740å°å‹æœº,åº”éƒ¨é—¨è¦æ±‚,è¿›è¡Œåº”ç”¨åŠæ•°æ®åº“IBMå°å‹æœºä¸‹ç§»æ”¹é€ (åé¢ç»Ÿç§°ä¸º:å°æœºä¸‹ç§»)- å½“å‰Oracleæ•°æ®åº“ç‰ˆæœ¬ä¸º:11.2.0.4,éå…¬å¸ä¸»æ¨ç‰ˆæœ¬- å½“å‰weblogicä¸­é—´ä»¶ç‰ˆæœ¬ä¸º:10.3.5,éå…¬å¸ä¸»æ¨ç‰ˆæœ¬ä¼˜åŒ–ç›®æ ‡:åº”ç”¨æœåŠ¡å™¨ç”±ç›®"><meta property="og:type" content="article"><meta property="og:title" content="weblogicéƒ¨ç½²åº”ç”¨æ—¥å¿—"><meta property="og:url" content="http://yoursite.com/2020/04/23/weblogic%E9%83%A8%E7%BD%B2%E5%BA%94%E7%94%A8%E6%97%A5%E5%BF%97/index.html"><meta property="og:site_name" content="Zombiesoul Blog"><meta property="og:description" content="å‰è¨€:æœ€è¿‘é¡¹ç›®ç»„è¿æ¥äº†ä¸€ä¸ªä¸å¤§ä¸å°çš„æ´»,ç»™åŸºäºJDK1.6å¼€å‘çš„è€å·¥ç¨‹åšç¡¬ä»¶å‡çº§,å‡çº§å†…å®¹:å‡çº§èƒŒæ™¯:- å½“å‰ç³»ç»Ÿåº”ç”¨ä¸æ•°æ®åº“å‡ä¸ºIBM-P750,IBM-P740å°å‹æœº,åº”éƒ¨é—¨è¦æ±‚,è¿›è¡Œåº”ç”¨åŠæ•°æ®åº“IBMå°å‹æœºä¸‹ç§»æ”¹é€ (åé¢ç»Ÿç§°ä¸º:å°æœºä¸‹ç§»)- å½“å‰Oracleæ•°æ®åº“ç‰ˆæœ¬ä¸º:11.2.0.4,éå…¬å¸ä¸»æ¨ç‰ˆæœ¬- å½“å‰weblogicä¸­é—´ä»¶ç‰ˆæœ¬ä¸º:10.3.5,éå…¬å¸ä¸»æ¨ç‰ˆæœ¬ä¼˜åŒ–ç›®æ ‡:åº”ç”¨æœåŠ¡å™¨ç”±ç›®"><meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlly1gi20q6ffq8j31540qwad7.jpg"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwly1gkehn0uxehj31yd0u0x2q.jpg"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwly1gkehn4jxd0j31od0u0dmr.jpg"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwly1gkehnbvmj2j31ow0u0wj4.jpg"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwly1gkehncn107j31pa0u0doh.jpg"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwly1gkegwilwayj32gw0gi787.jpg"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwly1gkeh7p8rcdj31vw0eimzk.jpg"><meta property="og:image" content="https://tva1.sinaimg.cn/large/0081Kckwly1gkegwlc981j31460u0dju.jpg"><meta property="article:published_time" content="2020-04-23T09:33:29.000Z"><meta property="article:modified_time" content="2020-11-05T10:48:30.545Z"><meta property="article:author" content="Jin Zombie"><meta property="article:tag" content="weblogic"><meta property="article:tag" content="server"><meta property="article:tag" content="war"><meta property="article:tag" content="jaråŒ…å†²çª"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tva1.sinaimg.cn/large/007S8ZIlly1gi20q6ffq8j31540qwad7.jpg"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"åšä¸»"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://yoursite.com/2020/04/23/weblogicéƒ¨ç½²åº”ç”¨æ—¥å¿—/"><title>weblogicéƒ¨ç½²åº”ç”¨æ—¥å¿— | Zombiesoul Blog</title><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Zombiesoul Blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>å½’æ¡£</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>å…³äº</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>æœç´¢</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="æœç´¢..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/23/weblogic%E9%83%A8%E7%BD%B2%E5%BA%94%E7%94%A8%E6%97%A5%E5%BF%97/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jin Zombie"><meta itemprop="description" content=""><meta itemprop="image" content="/images/logo.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Zombiesoul Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">weblogicéƒ¨ç½²åº”ç”¨æ—¥å¿—</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-04-23T17:33:29+08:00">2020-04-23 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/weblogic/" itemprop="url" rel="index"><span itemprop="name">weblogic</span> </a></span></span><span class="post-meta-divider">|</span> <span class="page-pv">æœ¬ç«™æ€»é˜…è¯»é‡ <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>æ¬¡</span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span> <span title="å­—æ•°ç»Ÿè®¡">3.2k </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span> <span title="é˜…è¯»æ—¶é•¿">12</span></div></div></header><div class="post-body" itemprop="articleBody"><p>å‰è¨€:</p><ul><li><p>æœ€è¿‘é¡¹ç›®ç»„è¿æ¥äº†ä¸€ä¸ªä¸å¤§ä¸å°çš„æ´»,ç»™åŸºäºJDK1.6å¼€å‘çš„è€å·¥ç¨‹åšç¡¬ä»¶å‡çº§,å‡çº§å†…å®¹:</p></li><li><p>å‡çº§èƒŒæ™¯:<br>- å½“å‰ç³»ç»Ÿåº”ç”¨ä¸æ•°æ®åº“å‡ä¸ºIBM-P750,IBM-P740å°å‹æœº,åº”éƒ¨é—¨è¦æ±‚,è¿›è¡Œåº”ç”¨åŠæ•°æ®åº“IBMå°å‹æœºä¸‹ç§»æ”¹é€ (åé¢ç»Ÿç§°ä¸º:å°æœºä¸‹ç§»)<br>- å½“å‰Oracleæ•°æ®åº“ç‰ˆæœ¬ä¸º:11.2.0.4,éå…¬å¸ä¸»æ¨ç‰ˆæœ¬<br>- å½“å‰weblogicä¸­é—´ä»¶ç‰ˆæœ¬ä¸º:10.3.5,éå…¬å¸ä¸»æ¨ç‰ˆæœ¬</p></li><li><p>ä¼˜åŒ–ç›®æ ‡:</p><ul><li>åº”ç”¨æœåŠ¡å™¨ç”±ç›®å‰çš„IBM-P740å°å‹æœº(AIX)å‡çº§ä¸ºæŸæŸäº‘è™šæ‹Ÿæœº,æ“ä½œç³»ç»Ÿç”±AIX-UNIXå‡çº§ä¸ºRedHat-Linux;	Weblogicä¸­é—´ä»¶ç”±weblogic10.3.5å‡çº§è‡³weblogic12c(12.2.1.1.3.0,åæ¥ä¸»æ¨12.2.1.4.0)</li><li>æ•°æ®åº“æœåŠ¡å™¨ğŸˆ¶ç›®å‰çš„IBM-P750å°å‹æœº(AIX)å‡çº§ä¸ºæµªæ½®8480ç‰©ç†æœº,æ“ä½œç³»ç»Ÿç”±AIX-UNIXå‡çº§ä¸ºRedHat-Linux; Oracleæ•°æ®åº“ç”±orecle11.2.0.4å‡çº§ä¸ºoracle19c,éƒ¨ç½²æ¨¡å¼2+1è°ƒæ•´ä¸º2+2RACæ¨¡å¼</li></ul></li><li></li></ul><h2 id="ä¸€ã€Weblogicå‡çº§æ—¥å¿—ï¼š"><a class="header-anchor" href="#ä¸€ã€Weblogicå‡çº§æ—¥å¿—ï¼š">Â¶</a>ä¸€ã€Weblogicå‡çº§æ—¥å¿—ï¼š</h2><h3 id="è€ç‰ˆæœ¬-Weblogic11g-weblogic10-3-5"><a class="header-anchor" href="#è€ç‰ˆæœ¬-Weblogic11g-weblogic10-3-5">Â¶</a>è€ç‰ˆæœ¬:Weblogic11g(weblogic10.3.5):</h3><h3 id="ä¸­é—´ç‰ˆæœ¬weblogic12c-12-2-1-1-3-0"><a class="header-anchor" href="#ä¸­é—´ç‰ˆæœ¬weblogic12c-12-2-1-1-3-0">Â¶</a>ä¸­é—´ç‰ˆæœ¬weblogic12c(12.2.1.1.3.0):</h3><h3 id="æœ€ç»ˆç‰ˆæœ¬weblogic12c-12-2-1-4-0"><a class="header-anchor" href="#æœ€ç»ˆç‰ˆæœ¬weblogic12c-12-2-1-4-0">Â¶</a>æœ€ç»ˆç‰ˆæœ¬weblogic12c(12.2.1.4.0):</h3><h2 id="äºŒã€Weblogicå‡çº§è¸©å‘è®°å½•ï¼š"><a class="header-anchor" href="#äºŒã€Weblogicå‡çº§è¸©å‘è®°å½•ï¼š">Â¶</a>äºŒã€Weblogicå‡çº§è¸©å‘è®°å½•ï¼š</h2><h3 id="1-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-ä¸€ç³»åˆ—çš„jaråŒ…å†²çªé—®é¢˜è§£å†³"><a class="header-anchor" href="#1-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-ä¸€ç³»åˆ—çš„jaråŒ…å†²çªé—®é¢˜è§£å†³">Â¶</a>1. è€ç‰ˆæœ¬(11g)é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå,ä¸€ç³»åˆ—çš„jaråŒ…å†²çªé—®é¢˜è§£å†³:</h3><ul><li>æ€»ç»“ä¸€ä¸‹h=gerenweblogic11g,12c jaråŒ…å†²çªè§£å†³æ–¹æ³•åŠæ€è·¯:</li></ul><ol><li>æœ‰äº›é¡¹ç›®ä½¿ç”¨çš„æ¡†æ¶jaråŒ…ä¸weblogicä¸­çš„å†²çªï¼Œå› æ­¤é’ˆå¯¹weblogic12cè¦åŒºåˆ«å¤„ç†</li><li>weblogic12cé¡¹ç›®å¯åŠ¨åï¼ŒæŸ¥çœ‹æŠ¥é”™çš„jaråŒ…ï¼Œè¿™ä¸ªç¬¨æ–¹æ³•å°±æ˜¯ä¸€ä¸ªä¸€ä¸ªè¯•ç€å»æ‰ï¼Œç„¶åæ›´æ–°webloigc.xml</li></ol><p>weblogic.xmlé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">wls:weblogic-web-app</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:wls</span>=<span class="string">"http://xmlns.oracle.com/weblogic/weblogic-web-app"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaeehttp://java.sun.com/xml/ns/javaee/ejb-jar_2_5.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">wls:context-root</span>&gt;</span>projectname<span class="tag">&lt;/<span class="name">wls:context-root</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">wls:container-descriptor</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;wls:prefer-web-inf-classes&gt;true&lt;/wls:prefer-web-inf-classes&gt; --&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">wls:servlet-reload-check-secs</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">wls:servlet-reload-check-secs</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">wls:prefer-application-packages</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--  jersey-bundle-*.jar--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>com.sun.jersey.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>com.sun.research.ws.wadl.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>com.sun.ws.rs.ext.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>org.apache.commons.io.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- Jackson-*.jar --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>org.codehaus.jackson.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">            <span class="comment">&lt;!-- jettison-*.jar --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>org.codehaus.jettison.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">            <span class="comment">&lt;!-- jsr311*.jar --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>javax.ws.rs.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">            <span class="comment">&lt;!-- asm.jar  --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">wls:package-name</span>&gt;</span>org.objectweb.asm.*<span class="tag">&lt;/<span class="name">wls:package-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">wls:prefer-application-packages</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">wls:container-descriptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">wls:weblogic-web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å› å…¬å¸ç”µè„‘æœ‰åŠ å¯†,æ‰€ä»¥æ— æ³•ç›´æ¥æ¬è¿;æˆªå›¾è¡¥å……ä¸€ä¸‹è¯¦ç»†æ³¨é‡Š<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gi20q6ffq8j31540qwad7.jpg" alt="image-20200824171444241"></li><li>æ³¨æ„ï¼š<a href="wls:prefer-web-inf-classes">wls:prefer-web-inf-classes</a>true&lt;/wls:prefer-web-inf-classes&gt;è¿™è¡Œæ˜¯æ³¨é‡Šæ‰çš„ï¼ŒåŸå› çš„è¯è‡ªå·±googleï¼Œé¡¹ç›®ä¸­æ ¹æ®ä¸åŒjaråŒ…ï¼Œè‡ªå·±å¯ä»¥å¢æ·»ï¼Œ<br>ä¾‹å¦‚<a href="wls:package-name">wls:package-name</a><a href="http://org.apache.commons.io" target="_blank" rel="noopener">org.apache.commons.io</a>.*&lt;/wls:package-name&gt;è¿™è¡Œå°±æ˜¯æœ¬äººè‡ªå·±æ·»åŠ çš„ï¼Œåªè¦æ˜¯åŒ…å†²çªï¼Œéƒ½å¯ä»¥æŠŠå†²çªåŒ…çš„è·¯å¾„å†™åœ¨é‡Œé¢ï¼Œç„¶åå¯åŠ¨çš„æ—¶å€™ä¸æŠ¥é”™ã€‚</li></ul><h3 id="1-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-ä½¿ç”¨äº†RMIè¿œç¨‹è°ƒç”¨APIæŠ¥é”™é—®é¢˜è§£å†³"><a class="header-anchor" href="#1-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-ä½¿ç”¨äº†RMIè¿œç¨‹è°ƒç”¨APIæŠ¥é”™é—®é¢˜è§£å†³">Â¶</a>1. è€ç‰ˆæœ¬(11g)é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå,ä½¿ç”¨äº†RMIè¿œç¨‹è°ƒç”¨APIæŠ¥é”™é—®é¢˜è§£å†³:</h3><p>è¿™ä¸ªé—®é¢˜ä½†é‚£ä¸ªæ˜¯çœŸæ˜¯è®©äºº æ‘¸ä¸ç€å¤´è„‘ï¼å¹¸å¥½å¾—åˆ°äº†æˆ‘ä»¬ä¸­é—´ä»¶ç®¡ç†å‘˜çš„å¸®åŠ©ï¼Œåœ¨ç–«æƒ…è¿œç¨‹åŠå…¬è¿™ç§ä¸æ–¹ä¾¿çš„æ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡è…¾è®¯ä¼šè®®åˆ†æå‡ºäº†è¿™ä¸ªé—®é¢˜çš„æ ¹æºï¼Œåœ¨æ­¤æ–‡ä¸­æœ‰å¿…è¦æåä¸€ä¸‹ï¼<br>é¦–å…ˆï¼ŒæŠ›å‡ºé—®é¢˜ï¼š</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gkehn0uxehj31yd0u0x2q.jpg" alt="image-20200824173211565"></p><ul><li>é—®é¢˜æè¿°ï¼š</li></ul><p>å…¬å¸ä¸€å‘è¦æ±‚å¼€å‘æœåŠ¡å™¨ã€æµ‹è¯•æœã€éªŒè¯æœã€ç”Ÿäº§æœ æ‰€æœ‰ä¸­é—´ä»¶ç‰ˆæœ¬å’Œé…ç½®ä¿æŒä¸€è‡´ï¼›è¿™æ¬¡é—®é¢˜å…¶å®å°±æ˜¯ä¸­é—´ç®¡ç†å‘˜çš„ç–å¿½ï¼Œåœ¨æˆ‘ä»¬æœ¬æ¬¡ç¡¬ä»¶å‡çº§å·¥ä½œçš„é¢„æŠ•äº§æœä¸Šå®‰è£…äº†å‰æ–‡æåˆ°çš„ä¸­é—´ç‰ˆæœ¬ï¼Œéšåæµ‹è¯•ç»„çš„æœåŠ¡å™¨ä¹Ÿæ‰¹ä¸‹æ¥äº†ï¼Œä½†æ˜¯å…¬å¸è¦æ±‚çš„ä¸»æ¨ç‰ˆæœ¬ç”±ä¹‹å‰çš„12.2.1.1.3.0,å‡çº§åˆ°åæ¥ä¸»æ¨12.2.1.4.0</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gkehn4jxd0j31od0u0dmr.jpg" alt="image-20200824173841028"></p><p>åˆ«çœ‹è¿™æ˜¯å¦‚ä¸Šå›¾ä¸­ä»…ä»…æ˜¯ä¸€ä¸ªPatch Set Releaseçš„å˜åŒ–ï¼›ä»–èƒŒåçš„å‡çº§å†…å®¹æ˜¯å¾ˆå¤§çš„ï¼Œè¿™ä¹Ÿå¼•å‡ºäº†è¿™ä¸ªé—®é¢˜çš„åŸå› ï¼š</p><ul><li><p>é—®é¢˜åˆ†æï¼š</p><p>å½“æˆ‘æ‹¿åˆ°è¿™ä¸ªæŠ¥é”™æ—¥å¿—æ—¶ï¼Œæˆ‘è¿˜æƒ¯æ€§çš„ä¼å›¾å»å®šä½è°ƒç”¨RMIç»„ä»¶çš„javaä»£ç ä»¥åŠç›¸å…³çš„é…ç½®ï¼ˆæ²¡åŠæ³•ï¼Œé‡åˆ°é—®é¢˜ï¼Œå…ˆè´¨ç–‘è‡ªå·±ï¼Œå†è´¨ç–‘åˆ«äººï¼Œè¿™æ˜¯è‰¯æ€§çš„æ€ç»´ä¹ æƒ¯ï¼‰ï¼Œæ‰¾äº†å¾ˆä¹…æ— æœï¼Œå·¥ç¨‹å¹¶æ²¡æœ‰ä»€ä¹ˆç¡¬æ€§bugï¼›</p><p>é‚£ä¹ˆæˆ‘è”ç³»äº†ä¸­é—´ä»¶ç®¡ç†å‘˜ï¼Œç®¡ç†å‘˜æŸ¥çœ‹æ—¥å¿—åï¼ŒæŒ‡å‡ºæ˜¯RMIè¿œç¨‹è°ƒç”¨çš„æŸä¸ªç±»æ²¡æ‰¾åˆ°ï¼›è¿™æ—¶å€™æˆ‘å°±å¥‡æ€ªäº†ï¼Œæ€ä¹ˆä¼šè°ƒç”¨ä¸åˆ°ï¼Œé¦–å…ˆæ’é™¤äº†RMIé…ç½®çš„è°ƒç”¨æœåŠ¡ç«¯åœ°å€çš„æ— è¯¯ï¼Œä¹Ÿç¡®è®¤äº†ç›¸å…³EJBçš„æ­£å¸¸è¿è¡Œï¼›ä¸€ä¸ªäººæ‡µé€¼å˜æˆäº†ä¸¤ä¸ªäººæ‡µé€¼</p><p>ç„¶åæˆ‘å°±æ±‚åŠ©ç™¾åº¦å’Œè°·æ­Œäº†ï¼Œå›½å†…çš„è®ºå›å¹¶æ²¡æœ‰å¾ˆå‹å¥½ï¼Œæœ€ç»ˆè¿˜æ˜¯ç¤¾ç¾¤æ›´å¹¿çš„StackOverFlowçš„å¤–å›½åŒè¡Œç»™äº†ä¸€ä¸‹è››ä¸é©¬è¿¹ï¼š</p><p>è¿™ä¸ªé”™è¯¯ä¿¡æ¯ç»™å‡ºäº†ä¸¤ä¸ªå…³é”®å­—ï¼š</p><p>java.io.InvalidClassException åºåˆ—åŒ–æˆ–è€…ååºåˆ—åŒ–è°ƒç”¨å¯¹è±¡æ˜¯æœ‰é—®é¢˜äº†</p><p>filter statusï¼šREJECTED RMIè¿›è¡ŒIOä¼ è¾“çš„ä¸€äº›å¯¹è±¡å¤±è´¥äº†è¢«å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡ç«¯çš„JVMå®ä¾‹åˆ¤æ–­ä¸ºæ¶æ„å¯¹è±¡äº†ï¼Œç„¶åå°±è¢«è¿‡æ»¤äº†ï¼åœ¨ä½¿ç”¨RMIå°†äº‹ä»¶å‘é€åˆ°å…¶ä»–åº”ç”¨ç¨‹åºæœŸé—´ï¼Œåº”ç”¨ç¨‹åºå¼•å‘å¼‚å¸¸ã€‚</p><p>ç„¶åæˆ‘å°±æ˜ç™½äº†ä¸€ç‚¹ï¼Œå› ä¸ºjdkæ˜¯é€‚é…weblogic12cå®‰è£…çš„jdk8ï¼Œæ–°ç‰ˆæœ¬çš„jdkä¼˜åŒ–äº†ä¸€äº›å¯¹è±¡åºåˆ—åŒ–çš„æ ¡éªŒè§„åˆ™ï¼Œå˜å¾—æ›´åŠ ä¸¥æ ¼äº†ï¼Œå³ï¼šJEP 290 ååºåˆ—åŒ–è¿‡æ»¤å™¨è¿™ä¸ªç»„ä»¶ï¼</p><p>æœ€ç»ˆæˆ‘åœ¨oracle weblogicå®˜æ–¹ç½‘ç«™ä¸Šæ‰¾äº†è§£é‡Šï¼š<a href="https://docs.oracle.com/en/middleware/fusion-middleware/weblogic-server/12.2.1.4/secmg/conf-security-for-domain.html#GUID-902F255F-7325-4F48-A127-57F9851B5330" target="_blank" rel="noopener">https://docs.oracle.com/en/middleware/fusion-middleware/weblogic-server/12.2.1.4/secmg/conf-security-for-domain.html#GUID-902F255F-7325-4F48-A127-57F9851B5330</a></p><p>Use this property to specify whether the filter should apply globally to the entire JVM (as if it had been configured using the Java SE <code>jdk.serialFilter</code> property) or to only internal WebLogic Server deserialization. Valid values are <code>global</code> and <code>weblogic</code>. The default is <code>global</code>.</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Note:</span><br><span class="line">The default is &#96;global&#96; for JDK 7 Update 191 (JDK 7u191) or later and JDK 8 Update 181 (JDK 8u181) or later. For earlier supported JDK versions, the default is &#96;weblogic&#96;.</span><br></pre></td></tr></table></figure><p>For example, to apply the WebLogic Server default or custom filter to internal WebLogic Server deserialization only, instead of to the entire JVM, use:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Dweblogic.oif.serialFilterScope&#x3D;weblogic</span><br></pre></td></tr></table></figure><p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼š</p><p>åœ¨JDk 8u181(7u191)+weblogic-201901è¡¥ä¸ä¹‹åï¼Œweblogic.oif.serialFilterModeé»˜è®¤å€¼æ›´æ–°ä¸ºäº†ï¼šglobalã€‚ä½¿ç”¨RMIç­‰ç­‰ä¼šè°ƒèµ·ååºåˆ—åŒ–æ“ä½œçš„APIæ—¶ï¼Œä¼šå—åˆ°å¾ˆå¤§å¹²æ‰°ï¼è€Œä¸”å€¼å¾—ç‰¹åˆ«æ³¨æ„çš„æ˜¯åœ¨wls12.2.1.4ç‰ˆæœ¬åŸºçº¿èµ·ï¼Œjdk8u251ä¸Šè¿™ä¸ªç­–ç•¥çš„æ›´æ–°å·²ç»ç”Ÿæ•ˆäº†ï¼</p><p>ç»ˆäºæ°´è½çŸ³å‡ºäº†ï¼</p><ul><li>é—®é¢˜è§£å†³ï¼š</li></ul><p>1ã€é€šè¿‡ä»£ç é…ç½®ä¸€ä¸ªå…³äºè¿™ä¸ªè¿‡æ»¤å™¨çš„white-list ï¼Œè¿™ä¸ªæœ¬æ¥è¦é‡‡ç”¨çš„ï¼Œä½†æ˜¯é¢†å¯¼è€ƒè™‘åˆ°ä¼šç»™ç¡¬ä»¶å‡çº§éœ€æ±‚å·¥ä½œå¸¦æ¥æ›´å¤šçš„æµ‹è¯•ç¼ºé™·ï¼Œå½±å“è€ƒæ ¸ï¼Œä½ æ‡‚çš„ï¼ˆå…¶å®è¿˜æ˜¯æˆ‘æƒ³ä¼˜é›…çš„è®©é¢†å¯¼èƒŒè¿™ä¸ªå†å²éª‚åè€Œå·²ï¼‰</p><p>â€‹ 2ã€é‡‡ç”¨ oracleæä¾›è§£å†³åŠæ³•ï¼Œé…ç½®æœåŠ¡å™¨è¿è¡Œå·¥ç¨‹æ—¶çš„jvmå‚æ•°ï¼Œé…ç½®weblogicå­æœåŠ¡å™¨çš„å¯åŠ¨è„šæœ¬ä¸­å°±å¥½,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Dweblogic.oif.serialFilterScope&#x3D;weblogic</span><br></pre></td></tr></table></figure><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gkehnbvmj2j31ow0u0wj4.jpg" alt="image-20200824183802077"></p><p>ç›®çš„æ˜¯åœ¨è¿è¡Œæ—¶ï¼Œè¿™ä¸ªè¿‡æ»¤å™¨ä¸å†æ ¡éªŒè¿™ä¸ªå·¥ç¨‹å†…æ‰€æœ‰çš„ç±»ï¼ˆæ³¨æ„æ˜¯weblogicè¿™ä¸ªå­æœåŠ¡å™¨ä¸‹å·¥ç¨‹ä¸­æ‰€æœ‰çš„ç±»ï¼æ‰€ä»¥è¿˜æ˜¯ç¼–å†™ä¸€ä¸ªâ€œwhite-listâ€æ¯”è¾ƒå¥½ï¼Œæ¯•ç«Ÿjvmè¿™ä¸ªè¿‡æ»¤å™¨ä¸åº”è¯¥ç›´æ¥è¢«å¼ƒç”¨ï¼Œå°½ç®¡æ—§ç‰ˆæœ¬çš„jdkæ²¡æœ‰æ ¡éªŒå·¥ç¨‹ï¼Œä½†æ˜¯ä»–çš„å‡çº§è‚¯å®šæ˜¯åˆ©å¤§äºå¼Šï¼ä¸è¿‡å› ä¸ºæˆ‘ä»¬æ˜¯å†…ç½‘OAç³»ç»Ÿï¼Œæ‰€ä»¥è¿™ä¹ˆé…ç½®ä¹Ÿä¸ä¼šæœ‰è¢«dosæ”»å‡»æˆ–è€…ååºåˆ—åŒ–æ”»å‡»çš„é£é™©ï¼‰</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gkehncn107j31pa0u0doh.jpg" alt="image-20200824173026557"></p><h3 id="3-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-å·¥ç¨‹éƒ¨åˆ†ä»£ç ä¾èµ–javaee-jarï¼ˆä¹‹å‰jaråŒ…å†²çªè¢«å¹²æ‰çš„ï¼‰ä¸­æä¾›çš„JspWriterç±»"><a class="header-anchor" href="#3-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-å·¥ç¨‹éƒ¨åˆ†ä»£ç ä¾èµ–javaee-jarï¼ˆä¹‹å‰jaråŒ…å†²çªè¢«å¹²æ‰çš„ï¼‰ä¸­æä¾›çš„JspWriterç±»">Â¶</a>3. è€ç‰ˆæœ¬(11g)é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå,å·¥ç¨‹éƒ¨åˆ†ä»£ç ä¾èµ–javaee.jarï¼ˆä¹‹å‰jaråŒ…å†²çªè¢«å¹²æ‰çš„ï¼‰ä¸­æä¾›çš„JspWriterç±»</h3><p>é—®é¢˜æè¿°:</p><ul><li><p>è¿™ä¸ªbugè¿˜æ˜¯åœ¨æˆ‘æ”¹é€ å·¥ç¨‹çš„åæœŸæ‰æµ®ç°ï¼Œä¹‹å‰æˆ‘éƒ½æ˜¯ç›´æ¥ä¿®æ”¹ç¼–è¯‘åçš„å·¥ç¨‹åŒ…ï¼Œå½“ä½¿ç”¨antæ„å»ºç¼–è¯‘ä»»åŠ¡æ—¶ï¼Œantä¾èµ–çš„ç¼–è¯‘å™¨ï¼ˆjavacæˆ–è€…eclispeæä¾›çš„JDTCompilerAdapterï¼‰ä¼šæ‰«æå·¥ç¨‹æˆ–è€…antçš„libç›®å½•æ˜¯å¦å­˜åœ¨javaee.jarï¼›ä½†æ˜¯åƒè¿™ç§å…¬å…±çš„jaråŒ…ä¸éœ€è¦æ”¾åœ¨å·¥ç¨‹libç›®å½•ä¸‹ï¼Œå†µä¸”ä»–å’Œwls12cæœ‰å†²çªï¼Œä½†æ˜¯ç¼–è¯‘å™¨æ²¡æœ‰è¿™ä¸ªjaråŒ…</p></li><li><p>é—®é¢˜è§£å†³:<br>1ã€æŠŠè¿™ä¸ªjaræ”¾åœ¨ç¼–è¯‘å™¨ç›®å½•ä¸‹ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰è¿™æ ·åšå› ä¸ºjavaee.jarçš„ç‰ˆæœ¬å¤ªè€ï¼Œå°½ç®¡æ˜¯å…¬å…±çš„jaråŒ…ï¼Œå…¬å¸å°†æ¥å‡çº§æ¶æ„æˆ–è€…ä¸­é—´ä»¶ï¼Œåˆä¼šå‡ºç°é—®é¢˜ï¼Œè€Œä¸”ç¼–è¯‘æ—¶æœŸå‡ºç°é—®é¢˜ï¼Œå…¬å¸è´Ÿè´£ç¼–è¯‘çš„åŒäº‹ä¸æ‡‚æŠ€æœ¯ï¼Œæˆ‘å°±ä¸ç»™ä»–æŒ–å‘äº†<br>2ã€javaee.jarç•™åœ¨å·¥ç¨‹å†…ï¼Œä½†æ˜¯ä¸æ”¾åœ¨WEB-INF/libç›®å½•ä¸‹ï¼Œå³ï¼šæœ¬åœ°å¼€å‘ï¼Œéƒ¨ç½²åˆ°tmocat6æˆ–è€…æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„wls12cè¿è¡Œæ—¶è°ƒç”¨è‡ªå¸¦çš„è¿™ä¸ªåŒ…ï¼Œä»…ä»…æ˜¯ç¼–è¯‘æ—¶å»è¯»è¿™ä¸ªjarï¼›å½“ç„¶ä½ ä¼šç–‘é—®ä¸ºäº†ç¼–è¯‘ï¼Œè€Œç»™å·¥ç¨‹æ–°å¢ä¸å¿…è¦çš„æ–‡ä»¶ï¼Œç»™æœåŠ¡å™¨çš„å†…å­˜å¢åŠ è´Ÿæ‹…ï¼Œè¿™æ ·ä¸æ˜¯å¤ªä¿å®ˆäº†ä¹ˆï¼Ÿ</p><p>â€‹	ä¸æ˜¯çš„ï¼Œantæœ‰ä¸ªä¸»è¦ç‰¹æ€§å°±æ˜¯ï¼Œä»–ä¸æ˜¯ç¼–è¯‘å™¨ï¼Œä»–æ˜¯æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹çš„ç»„ç»‡è€…ï¼›anté€šè¿‡è¯»å–æˆ‘ä»¬ç¼–å†™çš„xmlï¼Œæ¥é€é¡¹æ‰§è¡Œxmlé‡Œé¢çš„taskï¼Œæ¥å®Œæˆæ¸…ç©ºå¹¶åˆ›å»ºç¼–è¯‘ç›®å½•ç­‰ä¸€ç³»åˆ—å¤æ‚æ“ä½œï¼antç”šè‡³æä¾›äº†ä¸€ç³»åˆ—æ ‡ç­¾ç»„æ¥è®©ä½ å¯ä»¥è‡ªç”±å®šä¹‰ä»»åŠ¡å†…å®¹ï¼Œ</p><p>â€‹	å¦‚è¿™ç¯‡åšæ–‡æè¿°ï¼š<a href="https://www.cnblogs.com/qianjinyan/p/9531519.html" target="_blank" rel="noopener">https://www.cnblogs.com/qianjinyan/p/9531519.html</a><br><code>Antä¸åŸºäºshellå‘½ä»¤çš„æ‰©å±•æ¨¡å¼ä¸åŒï¼ŒAntç”¨Javaçš„ç±»æ¥æ‰©å±•ã€‚ä¸å¿…ç¼–å†™shellå‘½ä»¤ï¼Œé…ç½®æ–‡ä»¶æ˜¯åŸºäºXMLçš„ï¼Œé€šè¿‡è°ƒç”¨targetæ ‘ï¼Œå°±å¯æ‰§è¡Œå„ç§taskã€‚æ¯ä¸ªtaskç”±å®ç°äº†ä¸€ä¸ªå®ç°äº†ç‰¹å®šTaskæ¥å£çš„å¯¹è±¡æ¥è¿è¡Œã€‚ å¿…é¡»æ‰¿è®¤ï¼Œè¿™æ ·åšï¼Œåœ¨æ„é€ shellå‘½ä»¤æ—¶ä¼šå¤±å»ä¸€äº›ç‰¹æœ‰çš„è¡¨è¾¾èƒ½åŠ›ã€‚å¦‚</code>find . -name foo -exec rm {}<code>ï¼Œä½†å´ç»™äº†ä½ è·¨å¹³å°çš„èƒ½åŠ›ï¼ä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å·¥ä½œã€‚å¦‚æœä½ çœŸçš„éœ€è¦æ‰§è¡Œä¸€äº›shellå‘½ä»¤ï¼ŒAntæœ‰ä¸€ä¸ª&lt;exec&gt; taskï¼Œè¿™ä¸ªtaskå…è®¸æ‰§è¡Œç‰¹å®šOSä¸Šçš„å‘½ä»¤ã€‚</code></p></li><li><p>å…·ä½“å®ç°ï¼š</p><p>1ã€ä¿®æ”¹antè„šæœ¬ï¼Œé»˜è®¤æ˜¯build.xml</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gkegwilwayj32gw0gi787.jpg" alt="image-20201105175433514"></p></li></ul><ul><li>è¯´æ˜ï¼š</li></ul><p>ä¸Šé¢æåˆ°ï¼Œå› ä¸ºè§£å†³jaråŒ…å†²çªï¼Œæˆ‘èˆå¼ƒäº†æœ¬åœ°å·¥ç¨‹çš„javaee.jarï¼Œä½†æ˜¯ç¼–è¯‘å·¥ç¨‹çš„æ—¶å€™ï¼Œæˆ‘å‘ç°åŸæ¥jdkçš„libç›®å½•ä¸­å¹¶æ²¡æœ‰è¿™ä¸ªåŒ…ï¼Œæˆ‘ä»¬è¦è¿˜æ˜¯ä¾èµ–å®ƒçš„ï¼</p><p>æ‰€ä»¥æˆ‘åªèƒ½å†æƒ³åŠæ³•ï¼Œå°†è¿™ä¸ªjaråŒ…æ”¾åœ¨ä¸€ä¸ªcompileTempLibç›®å½•ä¸‹ï¼Œåœ¨è¿™ä¸ªantè„šæœ¬ä¸­å¼•å…¥æ­¤ç›®å½•ï¼›ä¸è¿‡æ—¢ç„¶éƒ½æ‰“å¼€äº†ï¼Œé¡ºå¸¦ä¹Ÿå€ŸåŠ©antè„šæœ¬ä¼˜åŒ–äº†ä¸€ä¸‹ï¼Œ</p><p>å°±æ˜¯ï¼š</p><p>å½“antçš„ç¼–è¯‘å·¥ä½œæ˜¯ä¾èµ–æˆ‘ä»¬ç¼–å†™çš„æ¯ä¸€ä¸ªtargetï¼Œè‡ªä¸Šè€Œä¸‹é€é¡¹æ‰§è¡Œçš„ï¼›</p><p>å½“antæ‰§è¡Œå®Œå¦‚â€œæ¸…é™¤é™æ€æ–‡ä»¶å¹¶å°†å„æ¨¡å—ä¸‹çš„é™æ€èµ„æºå¤åˆ¶åˆ°æŒ‡å®šç›®å½•ä¸‹â€ã€â€œç¼–è¯‘ä»£ç â€ç­‰ä»»åŠ¡åï¼Œç”±äºæˆ‘è€ƒè™‘åˆ°å·¥ç¨‹é‡Œçš„é‚£ä¸ªcompileTempLibç›®å½•ä¸‹è¿˜æ”¾äº†ä¸€ä¸ªåº”è¯¥è¢«èˆå¼ƒçš„jaråŒ…ï¼Œä»–åœ¨ç¼–è¯‘ä»£ç ä¹‹åï¼Œå°±æ²¡ç”¨äº†ï¼æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªtargetï¼Œé‡Œé¢çš„å‚æ•°å†™ä¸€ä¸ªdeleteå‘½ä»¤ï¼Œå¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">name</span>=<span class="string">"delete-project example"</span> <span class="attr">default</span>=<span class="string">"del"</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">target</span> <span class="attr">name</span>=<span class="string">"del"</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">delete</span> <span class="attr">file</span>=<span class="string">"/XXXXXX/compileTempLib/javaee.jar"</span>/&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">target</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯é¢†å¯¼æå‡ºæˆ‘å°±è¿™ç‚¹æ–‡ä»¶æ”¹åŠ¨äº†ä¸å°‘å•Šï¼Œæ‰“å·¥ä»”ä¸€ç‚¹å°±é€šï¼</p><p>ä¹Ÿè¡Œï¼›é‚£å°±PlanBï¼š</p><p>å› ä¸ºç¼–è¯‘å·¥ç¨‹å®Œæˆåï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šå»ï¼Œä½†å·¥ç¨‹å¾€å¾€éƒ½ä¼šæ‰“ä¸ªåŒ…ï¼ŒåŠ å¿«ä¼ è¾“æ•ˆç‡ï¼›æ‰€ä»¥è„šæœ¬ä¸­ä¼šåœ¨æœ€åæœ‰ä¸€ä¸ªæ‰“åŒ…çš„targetï¼Œæ‰€ä»¥æˆ‘å¯ä»¥åœ¨æ‰“åŒ…æ—¶ï¼Œåœ¨&quot;æ‰“åŒ…&quot;è¿™ä¸€ç¯èŠ‚åŠ¨æ‰‹è„š,antçš„zipå‘½ä»¤æœ‰ä¸€ä¸ªé€šç”¨å±æ€§ï¼Œå°±æ˜¯ <strong>excludes</strong> ,å¯ä»¥æ’é™¤æ‰æŒ‡å®šçš„æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼é—®é¢˜è§£å†³ã€‚</p><p>å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gkeh7p8rcdj31vw0eimzk.jpg" alt="image-20201105183243278"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¯ä»¥é€šè¿‡ä½¿ç”¨excludeså±æ€§æŒ‡å®šæ–‡ä»¶åæ¥æ’é™¤æ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">name</span>=<span class="string">"zip-project example"</span> <span class="attr">default</span>=<span class="string">"run"</span>&gt;</span>     </span><br><span class="line">    <span class="tag">&lt;<span class="name">target</span> <span class="attr">name</span>=<span class="string">"run"</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">zip</span> <span class="attr">destfile</span>=<span class="string">"$&#123;path&#125;/$&#123;param1&#125;/XXX.zip"</span> <span class="attr">basedir</span>=<span class="string">"project_path"</span> <span class="attr">update</span>=<span class="string">"true"</span> <span class="attr">excludes</span>=<span class="string">"xyz.txt"</span>/&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">target</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹å›¾ï¼ŒæœåŠ¡å™¨ä¸Šæ­¤ç›®å½•ä¸‹ç©ºç©ºå¦‚ä¹Ÿäº†å·²ç»ï¼Œjavaee.jarçš„ç‰¹æ®Šå¤„ç†åˆ°æ­¤å®Œæˆäº†</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gkegwlc981j31460u0dju.jpg" alt="image-20201105181242677"></p><h2 id="æ„Ÿå—ï¼š"><a class="header-anchor" href="#æ„Ÿå—ï¼š">Â¶</a>æ„Ÿå—ï¼š</h2><ul><li><p>æ€»ç»“ï¼Œè¿™æ¬¡æœåŠ¡å™¨å‡çº§è¿˜æ˜¯å­¦åˆ°å¾ˆå¤šçš„ï¼Œå·¥ä½œä¹‹ä½™æ…¢æ…¢æ€»ç»“æ›´æ–°å§</p></li><li><p>ä»¥ä¸Šèµ„æ–™éƒ¨åˆ†æ‘˜è‡ªç½‘ç»œï¼Œå°Šé‡åŸä½œè€…ç‰ˆæƒï¼Œåˆ†äº«ç»™æ›´å¤šçš„è¯»è€…ã€‚</p></li></ul></div><div><div><br><br><div style="text-align:center;color:#ccc;font-size:14px">----------- æœ¬æ–‡ç»“æŸ -----------</div><br><br><br><br></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/weblogic/" rel="tag"><i class="fa fa-tag">weblogic</i></a> <a href="/tags/server/" rel="tag"><i class="fa fa-tag">server</i></a> <a href="/tags/war/" rel="tag"><i class="fa fa-tag">war</i></a> <a href="/tags/jar%E5%8C%85%E5%86%B2%E7%AA%81/" rel="tag"><i class="fa fa-tag">jaråŒ…å†²çª</i></a></div><div class="post-widgets"><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2020/07/06/2020-09-10-Shiro%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="prev" title="Shiro-å­¦ä¹ ç¬”è®°"><i class="fa fa-chevron-left"></i> Shiro-å­¦ä¹ ç¬”è®°</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2020/03/03/Mac%E7%8E%AF%E5%A2%83%E5%A6%82%E4%BD%95%E5%88%9D%E5%A7%8B%E5%8C%96git%E4%BB%93%E5%BA%93/" rel="next" title="Macç¯å¢ƒå¦‚ä½•åˆå§‹åŒ–gitä»“åº“">Macç¯å¢ƒå¦‚ä½•åˆå§‹åŒ–gitä»“åº“ <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="gitment-container"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">ç«™ç‚¹æ¦‚è§ˆ</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/"><img class="site-author-image" itemprop="image" src="/images/logo.jpg" alt="Jin Zombie"></a><p class="site-author-name" itemprop="name">Jin Zombie</p><p class="site-description motion-element" itemprop="description">Just code it</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/%7C%7C%20archive"><span class="site-state-item-count">13</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">8</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">23</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/zombiesoull" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-history fa-" aria-hidden="true"></i> è¿‘æœŸæ–‡ç« </div><ul class="links-of-blogroll-list"><li class="recent_posts_li"><a href="/2022/12/27/OpenFeign%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5&%E4%B8%AD%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" title="é¡¹ç›®é—®é¢˜è®°å½•ï¼šå¤šäº‹åŠ¡ä¹‹é—´äº§ç”Ÿå¹»è¯»" target="_blank">é¡¹ç›®é—®é¢˜è®°å½•ï¼šå¤šäº‹åŠ¡ä¹‹é—´äº§ç”Ÿå¹»è¯»</a></li><li class="recent_posts_li"><a href="/2022/12/23/Maas-Auth%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95%EF%BC%9AOAuth2%20Server&Client%E5%BA%8F%E5%88%97%E5%8C%96%E9%97%AE%E9%A2%98/" title="OAuth2é—®é¢˜è®°å½•ï¼šAuth Server& Clientåºåˆ—åŒ–é—®é¢˜.md" target="_blank">OAuth2é—®é¢˜è®°å½•ï¼šAuth Server& Clientåºåˆ—åŒ–é—®é¢˜.md</a></li><li class="recent_posts_li"><a href="/2021/11/13/%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95%EF%BC%9A%E5%A4%9A%E4%BA%8B%E5%8A%A1%E4%B9%8B%E9%97%B4%E4%BA%A7%E7%94%9F%E5%B9%BB%E8%AF%BB/" title="é¡¹ç›®é—®é¢˜è®°å½•ï¼šå¤šäº‹åŠ¡ä¹‹é—´äº§ç”Ÿå¹»è¯»" target="_blank">é¡¹ç›®é—®é¢˜è®°å½•ï¼šå¤šäº‹åŠ¡ä¹‹é—´äº§ç”Ÿå¹»è¯»</a></li><li class="recent_posts_li"><a href="/2020/11/05/Spring%E5%B5%8C%E5%A5%97%E4%BA%8B%E5%8A%A1%E5%AD%A6%E4%B9%A0/" title="SpringåµŒå¥—äº‹åŠ¡å­¦ä¹ " target="_blank">SpringåµŒå¥—äº‹åŠ¡å­¦ä¹ </a></li><li class="recent_posts_li"><a href="/2020/07/06/2020-07-06-SpringDataJPA-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="SpringDataJPA-å­¦ä¹ ç¬”è®°" target="_blank">SpringDataJPA-å­¦ä¹ ç¬”è®°</a></li></ul></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://github.com/zombiesoull" title="zombiesoull_github" target="_blank">zombiesoull_github</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸€ã€Weblogicå‡çº§æ—¥å¿—ï¼š"><span class="nav-text">Â¶ä¸€ã€Weblogicå‡çº§æ—¥å¿—ï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è€ç‰ˆæœ¬-Weblogic11g-weblogic10-3-5"><span class="nav-text">Â¶è€ç‰ˆæœ¬:Weblogic11g(weblogic10.3.5):</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸­é—´ç‰ˆæœ¬weblogic12c-12-2-1-1-3-0"><span class="nav-text">Â¶ä¸­é—´ç‰ˆæœ¬weblogic12c(12.2.1.1.3.0):</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æœ€ç»ˆç‰ˆæœ¬weblogic12c-12-2-1-4-0"><span class="nav-text">Â¶æœ€ç»ˆç‰ˆæœ¬weblogic12c(12.2.1.4.0):</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#äºŒã€Weblogicå‡çº§è¸©å‘è®°å½•ï¼š"><span class="nav-text">Â¶äºŒã€Weblogicå‡çº§è¸©å‘è®°å½•ï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-ä¸€ç³»åˆ—çš„jaråŒ…å†²çªé—®é¢˜è§£å†³"><span class="nav-text">Â¶1. è€ç‰ˆæœ¬(11g)é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå,ä¸€ç³»åˆ—çš„jaråŒ…å†²çªé—®é¢˜è§£å†³:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-ä½¿ç”¨äº†RMIè¿œç¨‹è°ƒç”¨APIæŠ¥é”™é—®é¢˜è§£å†³"><span class="nav-text">Â¶1. è€ç‰ˆæœ¬(11g)é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå,ä½¿ç”¨äº†RMIè¿œç¨‹è°ƒç”¨APIæŠ¥é”™é—®é¢˜è§£å†³:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-è€ç‰ˆæœ¬-11g-é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå-å·¥ç¨‹éƒ¨åˆ†ä»£ç ä¾èµ–javaee-jarï¼ˆä¹‹å‰jaråŒ…å†²çªè¢«å¹²æ‰çš„ï¼‰ä¸­æä¾›çš„JspWriterç±»"><span class="nav-text">Â¶3. è€ç‰ˆæœ¬(11g)é€‚é…çš„å·¥ç¨‹éƒ¨ç½²åˆ°12cå,å·¥ç¨‹éƒ¨åˆ†ä»£ç ä¾èµ–javaee.jarï¼ˆä¹‹å‰jaråŒ…å†²çªè¢«å¹²æ‰çš„ï¼‰ä¸­æä¾›çš„JspWriterç±»</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ„Ÿå—ï¼š"><span class="nav-text">Â¶æ„Ÿå—ï¼š</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Jin Zombie</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv">æœ¬ç«™è®¿é—®æ•° <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> äººæ¬¡ </span><span class="site-pv">æœ¬ç«™æ€»è®¿é—®é‡ <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> æ¬¡</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/clipboard.min.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/highlight-wrap.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script type="text/javascript">!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.setAttribute("issue-term","pathname"),t.setAttribute("theme","github-light"),t.setAttribute("repo","zombiesoull/talk"),t.crossorigin="anonymous",t.src="https://utteranc.es/client.js",document.getElementById("gitment-container").appendChild(t)}()</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={},pbOptions.iconStyle="box",pbOptions.boxForm="horizontal",pbOptions.position="bottomCenter",pbOptions.networks="Weibo,Douban,QQZone,Twitter,Facebook",new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={},flOptions.iconStyle="box",flOptions.boxForm="horizontal",flOptions.position="middleRight",flOptions.networks="Weibo,Douban,QQZone,Twitter,Facebook",new needShareButton("#needsharebutton-float",flOptions)</script></body></html><!-- rebuild by neat -->